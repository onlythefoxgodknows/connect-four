(this["webpackJsonpconnect-four"]=this["webpackJsonpconnect-four"]||[]).push([[0],{44:function(e,a,t){},53:function(e,a,t){},65:function(e,a,t){e.exports=t(96)},71:function(e,a,t){},75:function(e,a,t){},88:function(e,a,t){},89:function(e,a,t){},90:function(e,a,t){},91:function(e,a,t){},93:function(e,a,t){},94:function(e,a,t){},95:function(e,a,t){},96:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(29),c=t.n(l),i=(t(70),t(71),t(6)),s=t(7),o=t(9),m=t(8),u=t(13),d=t(12),h=t(64),p=function(e){var a=e.component,t=e.isAuthenticated,n=Object(h.a)(e,["component","isAuthenticated"]);return r.a.createElement(d.b,Object.assign({},n,{render:function(e){return t?r.a.createElement(a,Object.assign({},e,n)):r.a.createElement(d.a,{to:"/login"})}}))},v=(t(75),t(56)),g=t.n(v).a.initializeApp({apiKey:"AIzaSyCvsPBvbIDnsEVIe9n2Nds-DdJAiWVDdJ4",authDomain:"connectfour-c74c9.firebaseapp.com",databaseURL:"https://connectfour-c74c9.firebaseio.com",projectId:"connectfour-c74c9",storageBucket:"connectfour-c74c9.appspot.com",messagingSenderId:"329922873132",appId:"1:329922873132:web:fb1f0ce6832e4833644e89",measurementId:"G-8TYHWYS5L2"}),f=(t(53),r.a.Component,t(10)),b=t(100),E=t(99),y=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).logout=n.logout.bind(Object(f.a)(n)),n}return Object(s.a)(t,[{key:"logout",value:function(){this.props.history.push("/login"),g.auth().signOut().then((function(e){}))}},{key:"render",value:function(){var e=this.props.user?r.a.createElement("button",{className:"btn btn-danger",onClick:this.logout},"Sign Out"):null,a=this.props.user?r.a.createElement("button",{className:"btn btn-info"},"Signed In: ",this.props.user.email):null;return r.a.createElement(b.a,{style:{backgroundColor:"#4CAF50"},expand:"lg"},r.a.createElement(u.b,{className:"navbar-brand yellow",to:"/connect-four"},"c",r.a.createElement("span",{style:{display:"inline-block"},className:"RedPieceSmall card-5 Centered"}),"nnect f",r.a.createElement("span",{style:{display:"inline-block"},className:"YellowPieceSmall card-5 Centered"}),"ur"),r.a.createElement(b.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(b.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(E.a,{className:"mr-auto"},r.a.createElement(u.b,{className:"red nav-link",to:"/rules"},"Rules of the Game"),r.a.createElement(u.b,{className:"yellow nav-link",to:"/history"},"Brief History of the Game"),r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{target:"_blank",className:"red nav-link",href:"https://www.google.com/search?q=connect%20four"},"Link to Google Search ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item active"},r.a.createElement(u.b,{className:"red nav-link",to:"/about"},"About the Developer")),r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{className:"red nav-link",href:"mailto:huilin1618@gmail.com"},"Contact Me")),r.a.createElement("li",{style:{marginRight:"6px"},className:"nav-item active"},r.a.createElement(u.b,{className:"yellow nav-link",to:"/elsewhere"},"Play Elsewhere")),r.a.createElement("li",{style:{marginRight:"6px"}},a),r.a.createElement("li",null,e))))}}]),t}(r.a.Component),w=Object(d.g)(y),j=(t(88),function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"card profile animate__animated animate__jackInTheBox card-5"},r.a.createElement("img",{className:"card-img-top",src:"https://cunytechprep.nyc/c3/LinHui.JPG",alt:"Card image cap"}),r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("h1",{className:"title"},"Hui Lin"),r.a.createElement("p",{className:"card-text"},"Hi! I am a student at Queens College. I made this React.js web application for my Internet and Web Technologies summer class.")))}}]),t}(r.a.Component)),O=(t(89),function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"card profile animate__animated animate__jackInTheBox card-5"},r.a.createElement("img",{className:"card-img-top",src:"https://cunytechprep.nyc/c3/LinHui.JPG",alt:"Card image cap"}),r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("h1",{className:"title"},"Hui Lin"),r.a.createElement("p",{className:"card-text"},"Hi! I am a student at Queens College, and I made this simple web application for a class project.")))}}]),t}(r.a.Component)),N=(t(90),function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"card profile animate__animated animate__jackInTheBox card-5"},r.a.createElement("img",{className:"card-img-top",src:"https://upload.wikimedia.org/wikipedia/en/7/79/Connect_4_Board_and_Box.jpg",alt:"Card image cap"}),r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("h1",{className:"title"},"A Brief History"),r.a.createElement("p",{className:"card-text rule"},"Captain Cook is rumored to have played a similar game obsessively."),r.a.createElement("p",{className:"rule"},"In 1973, the modern version of Connect 4 is created by Howard Wexler and his business partner, Ned Strongin. "),r.a.createElement("p",{className:"rule"},"In 1974, the Connect 4 game is licensed by Milton Bradley (which was later bought by Hasbro). "),r.a.createElement("p",{className:"rule"},"In 1988, Connect 4 was solved for the first time. "))))}}]),t}(r.a.Component)),k=(t(91),function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"card profile animate__animated animate__jackInTheBox card-5"},r.a.createElement("img",{className:"card-img-top",src:"https://upload.wikimedia.org/wikipedia/commons/a/ad/Connect_Four.gif",alt:"Card image cap"}),r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("h1",{className:"title"},"How to Play this Game"),r.a.createElement("p",{className:"card-text rule"},"Two players alternate turns dropping one of their discs at a time into an unfilled column, until one player achieves a four in a row diagonally, horizontally, or vertically."),r.a.createElement("p",{className:"rule"},"If the board fills up before either player achieves four in a row, then the game is a draw. ")))}}]),t}(r.a.Component)),_=t(48),C=t.n(_),S=t(59),D=(t(44),function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){var e;return e=0==this.props.value?"BlankCircle":1==this.props.value?"RedPiecePlayed":"YellowPiecePlayed",r.a.createElement("span",{className:"Square card-5"},r.a.createElement("div",{className:e+" Centered"}))}}]),t}(r.a.Component)),x=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){var e=this,a=this.props.turn%2==0?"RedPiece card-5":"YellowPiece card-5";return r.a.createElement("span",{onClick:function(){return e.props.playPiece(e.props.value)},className:"InvisibleSquare"},r.a.createElement("div",{className:a+" Centered"}))}}]),t}(r.a.Component),B=t(98),I={game:[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],columnHeights:[0,0,0,0,0,0,0],turn:0,gameOver:!1},P=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).downloadFile=Object(S.a)(C.a.mark((function e(){var a,t,r,l,c,i,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state.gameData,t=(new Date).toLocaleString(),r=t,l=JSON.stringify(a,null,2),c=new Blob([l],{type:"application/json"}),e.next=7,URL.createObjectURL(c);case 7:i=e.sent,(s=document.createElement("a")).href=i,s.download=r+".json",document.body.appendChild(s),s.click(),document.body.removeChild(s);case 14:case"end":return e.stop()}}),e)}))),n.onChangeHandler=function(e){var a=new FileReader;a.onload=n.onReaderLoad,a.readAsText(e.target.files[0]),e.target.value=null},n.onReaderLoad=function(e){var a=JSON.parse(e.target.result);n.setState({gameData:a})},n.saveToDB=function(e){e.preventDefault();var a=JSON.stringify(n.state.gameData),t=g.firestore(),r=(new Date).toLocaleString();t.settings({timestampsInSnapshots:!0});t.collection(n.props.user.email).add({time:r,game:a});alert("Game has been saved to database."),n.retrieveFromDB()},n.state={gameData:I,showModal:!1,savedInDB:[]},n.toggleTurn=n.toggleTurn.bind(Object(f.a)(n)),n.playPiece=n.playPiece.bind(Object(f.a)(n)),n.resetGame=n.resetGame.bind(Object(f.a)(n)),n.downloadFile=n.downloadFile.bind(Object(f.a)(n)),n.onChangeHandler=n.onChangeHandler.bind(Object(f.a)(n)),n.onReaderLoad=n.onReaderLoad.bind(Object(f.a)(n)),n.saveToDB=n.saveToDB.bind(Object(f.a)(n)),n.handleShow=n.handleShow.bind(Object(f.a)(n)),n.handleClose=n.handleClose.bind(Object(f.a)(n)),n.retrieveFromDB=n.retrieveFromDB.bind(Object(f.a)(n)),n.loadGame=n.loadGame.bind(Object(f.a)(n)),n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=g.firestore();if(this.props.user.email){var a=e.collection(this.props.user.email).get();console.log("Hi"),console.log(a)}}},{key:"componentDidUpdate",value:function(e,a,t){var n=this;if(this.props!=e){var r=g.firestore();this.props.user.email&&r.collection(this.props.user.email).get().then((function(e){var a=[];e.forEach((function(e){var t=e.data();a.push(t)})),n.setState({savedInDB:a}),console.log(a)}))}}},{key:"retrieveFromDB",value:function(){var e=this;g.firestore().collection(this.props.user.email).get().then((function(a){var t=[];a.forEach((function(e){var a=e.data();t.push(a)})),t.sort((function(e,a){a.time.localeCompare(e.time)})),e.setState({savedInDB:t})}))}},{key:"handleShow",value:function(){this.setState({showModal:!0})}},{key:"handleClose",value:function(){this.setState({showModal:!1})}},{key:"toggleTurn",value:function(){var e=this.state.gameData.turn+1;this.setState({gameData:{turn:e}})}},{key:"resetGame",value:function(){this.setState({gameData:{game:[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],columnHeights:[0,0,0,0,0,0,0],turn:0,gameOver:!1}})}},{key:"endGame",value:function(){this.setState({gameData:{gameOver:!0}})}},{key:"loadGame",value:function(e){this.setState({gameData:e})}},{key:"playPiece",value:function(e){var a=this;if(6!=this.state.gameData.columnHeights[e]){var t=this.state.gameData.columnHeights.slice(),n=this.state.gameData.game.slice(),r=this.state.gameData.turn+1;t[e]++;var l=this.state.gameData.turn%2+1,c=1==l?"Red":"Yellow";n[5-this.state.gameData.columnHeights[e]][e]=l;for(var i=!1,s=5-this.state.gameData.columnHeights[e],o=e,m=1,u=s,d=e-1;d>=0&&n[s][d]==l;)m++,d--;for(d=e+1;d<=6&&n[s][d]==l;)m++,d++;for(m>=4&&(i=!0),m=1,u=s-1,d=e;u>=0&&n[u][e]==l;)m++,u--;for(u=s+1;u<=5&&n[u][e]==l;)m++,u++;for(m>=4&&(i=!0),m=1,u=s-1,d=e-1;u>=0&&d>=0&&n[u][d]==l;)m++,u--,d--;for(u=s+1,d=e+1;u<=5&&d<=6&&n[u][d]==l;)m++,u++,d++;for(m>=4&&(i=!0),m=1,u=s-1,d=o+1;u>=0&&d<=6&&n[u][d]==l;)m++,u--,d++;for(u=s+1,d=o-1;u<=5&&d>=0&&n[u][d]==l;)m++,u++,d--;m>=4&&(i=!0),i?this.setState({gameData:{columnHeights:t,game:n,turn:r,gameOver:!0}},(function(){setTimeout((function(){alert(c+" is the winner!"),a.resetGame()}),100)})):this.setState({gameData:{columnHeights:t,game:n,turn:r}})}}},{key:"render",value:function(){var e=this,a=this.state.gameData.turn%2==0?"RedPiece card-5":"YellowPiece card-5",t=r.a.createElement("div",null,[0,1,2,3,4,5,6].map((function(a){return r.a.createElement(x,{key:"select"+a,playPiece:e.playPiece,turn:e.state.gameData.turn,value:a})}))),n=this.state.gameData.game.map((function(e){return r.a.createElement("div",null,e.map((function(a){return r.a.createElement(D,{row:e,value:a})})))})),l=this.state.savedInDB.map((function(a){return r.a.createElement("div",{onClick:function(){return e.loadGame(JSON.parse(a.game))},className:"card-1 DBSavedGame animate__animated animate__bounceInDown"},a.time)}));return r.a.createElement("div",null,r.a.createElement("div",{style:{marginLeft:"15vw",float:"left"}},r.a.createElement("div",null,t),r.a.createElement("div",{className:"animate__animated animate__jackInTheBox"},n)),r.a.createElement("div",{className:"ButtonContainer",style:{float:"left"}},r.a.createElement("div",{className:"TurnDisplay card-5 animate__animated animate__bounceInRight"},r.a.createElement("div",{style:{marginRight:"1vw"},className:a}),"Player Turn"),r.a.createElement("div",{onClick:this.downloadFile,className:"card-5 SaveButton animate__animated animate__bounceInRight"},"Save to File"),r.a.createElement("input",{style:{width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},type:"file",name:"file",id:"file",onChange:this.onChangeHandler}),r.a.createElement("label",{className:"card-5 SaveButton animate__animated animate__bounceInRight",htmlFor:"file"},"Load from File"),r.a.createElement("div",{onClick:this.saveToDB,className:"card-5 SaveButtonDB animate__animated animate__bounceInRight"},"Save to DB"),r.a.createElement("div",{onClick:this.handleShow,className:"card-5 SaveButtonDB animate__animated animate__bounceInRight"},"Load from DB"),r.a.createElement(B.a,{style:{display:"flex",alignItems:"center",justifyContent:"center"},show:this.state.showModal,onHide:this.handleClose},r.a.createElement(B.a.Header,{closeButton:!0},r.a.createElement("div",null,"Games saved in Database")),r.a.createElement(B.a.Body,null,l))))}}]),t}(r.a.Component),T=(t(93),function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement("div",{className:"Centered box text-center"},r.a.createElement("a",{target:"_blank",href:"https://www.helpfulgames.com/subjects/brain-training/connect-four.html"},r.a.createElement("img",{src:"https://www.helpfulgames.com/bilder/helpfulgames-185x45.png",className:"link-image animate__animated animate__jackInTheBox"})))),r.a.createElement("div",{className:"col-sm"},r.a.createElement("div",{className:"Centered box text-center"},r.a.createElement("a",{target:"_blank",href:"https://www.mathsisfun.com/games/connect4.html"},r.a.createElement("img",{src:"https://www.mathsisfun.com/images/style/logo.svg",className:"link-image animate__animated animate__jackInTheBox"})))),r.a.createElement("div",{className:"col-sm"},r.a.createElement("div",{className:"Centered box text-center"},r.a.createElement("a",{target:"_blank",href:"http://www.connectfour.org/"},r.a.createElement("img",{src:"http://www.connectfour.org/images/banner-connect-four.jpg",className:"link-image animate__animated animate__jackInTheBox"}))))))}}]),t}(r.a.Component)),H=(t(94),function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).state={username:"",password:"",invalid:0},n.handlePassword=n.handlePassword.bind(Object(f.a)(n)),n.handleUsername=n.handleUsername.bind(Object(f.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(f.a)(n)),n.login=n.login.bind(Object(f.a)(n)),n}return Object(s.a)(t,[{key:"handleUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handlePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(e){alert("A name was submitted: "+this.state.value),e.preventDefault()}},{key:"login",value:function(e){var a=this;e.preventDefault(),g.auth().signInWithEmailAndPassword(this.state.username,this.state.password).then((function(e){setTimeout((function(){return a.props.history.push("/connect-four",500)}))})).catch((function(e){console.log(e),a.setState({invalid:1})}))}},{key:"render",value:function(){var e=this.state.invalid;return r.a.createElement("div",{className:"animate__animated animate__jackInTheBox",id:"form-container"},r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"form"},r.a.createElement("h1",{id:"login-title"},"c",r.a.createElement("span",{style:{display:"inline-block",marginTop:"-10em"},className:"RedPieceSmall card-5 Centered"}),"nnect"),r.a.createElement("h1",{id:"login-title"},"f",r.a.createElement("span",{style:{display:"inline-block"},className:"YellowPieceSmall card-5 Centered"}),"ur"),r.a.createElement("form",{className:"login-form"},r.a.createElement("input",{value:this.state.username,onChange:this.handleUsername,type:"email",placeholder:"email"}),r.a.createElement("input",{value:this.state.password,onChange:this.handlePassword,type:"password",placeholder:"password"}),r.a.createElement("button",{onClick:this.login},"login"),r.a.createElement("div",{className:"message",style:{opacity:e}},"Invalid username or password."),r.a.createElement("p",{className:"message"},"Not registered? ",r.a.createElement(u.b,{to:"/register"},"Register"))))))}}]),t}(r.a.Component)),R=Object(d.g)(H),L=(t(95),function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).state={username:"",password:""},n.handlePassword=n.handlePassword.bind(Object(f.a)(n)),n.handleUsername=n.handleUsername.bind(Object(f.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(f.a)(n)),n.signup=n.signup.bind(Object(f.a)(n)),n}return Object(s.a)(t,[{key:"handleUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handlePassword",value:function(e){this.setState({password:e.target.value})}},{key:"signup",value:function(e){var a=this;e.preventDefault(),g.auth().createUserWithEmailAndPassword(this.state.username,this.state.password).then((function(e){console.log(e),setTimeout((function(){return a.props.history.push("/connect-four",500)}))})).catch((function(e){console.log(e)}))}},{key:"handleSubmit",value:function(e){alert("A name was submitted: "+this.state.value),e.preventDefault()}},{key:"render",value:function(){return r.a.createElement("div",{className:"animate__animated animate__jackInTheBox",id:"form-container"},r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"form"},r.a.createElement("form",{className:"login-form"},r.a.createElement("input",{value:this.state.username,onChange:this.handleUsername,type:"text",placeholder:"email"}),r.a.createElement("input",{value:this.state.password,onChange:this.handlePassword,type:"password",placeholder:"password"}),r.a.createElement("button",{onClick:this.signup},"create"),r.a.createElement("p",{className:"message"},"Already registered? ",r.a.createElement(u.b,{to:"/login"},"Sign In"))))))}}]),t}(r.a.Component)),G=Object(d.g)(L),A=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).state={user:{}},n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;g.auth().onAuthStateChanged((function(a){a?(console.log(a),e.setState({user:a})):(console.log(a),e.setState({user:null}))}))}},{key:"render",value:function(){this.state.user;return r.a.createElement(u.a,null,r.a.createElement(w,{user:this.state.user}),r.a.createElement(d.d,null,r.a.createElement(p,{user:this.state.user,exact:!0,path:"/",isAuthenticated:this.state.user,component:P}),r.a.createElement(p,{user:this.state.user,exact:!0,path:"/connect-four",isAuthenticated:this.state.user,component:P}),r.a.createElement(d.b,{exact:!0,path:"/about"},r.a.createElement(j,null)),r.a.createElement(d.b,{exact:!0,path:"/login"},r.a.createElement(R,null)),r.a.createElement(d.b,{exact:!0,path:"/register"},r.a.createElement(G,null)),r.a.createElement(d.b,{exact:!0,path:"/contact"},r.a.createElement(O,null)),r.a.createElement(d.b,{exact:!0,path:"/history"},r.a.createElement(N,null)),r.a.createElement(d.b,{exact:!0,path:"/rules"},r.a.createElement(k,null)),r.a.createElement(d.b,{exact:!0,path:"/elsewhere"},r.a.createElement(T,null))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[65,1,2]]]);
//# sourceMappingURL=main.d6a81258.chunk.js.map